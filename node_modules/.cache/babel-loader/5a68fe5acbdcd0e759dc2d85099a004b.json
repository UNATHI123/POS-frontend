{"remainingRequest":"/home/lifechoices/Fullstack-project/front-end-project/node_modules/babel-loader/lib/index.js!/home/lifechoices/Fullstack-project/front-end-project/src/router/index.js","dependencies":[{"path":"/home/lifechoices/Fullstack-project/front-end-project/src/router/index.js","mtime":1646308871807},{"path":"/home/lifechoices/Fullstack-project/front-end-project/babel.config.js","mtime":1645618114558},{"path":"/home/lifechoices/Fullstack-project/front-end-project/node_modules/cache-loader/dist/cjs.js","mtime":1645618109363},{"path":"/home/lifechoices/Fullstack-project/front-end-project/node_modules/babel-loader/lib/index.js","mtime":1645618110203}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgUmVnaXN0ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9SZWdpc3Rlci52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vY29tcG9uZW50cy9Mb2dpbi52dWUnOwppbXBvcnQgUHJvZHVjdHMgZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9kdWN0cy52dWUnOwppbXBvcnQgQ2FydCBmcm9tICcuLi9jb21wb25lbnRzL0NhcnQudnVlJzsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9ob21lJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lCn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIGNvbXBvbmVudDogUmVnaXN0ZXIKfSwgewogIHBhdGg6ICcvbG9naW4nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbgp9LCB7CiAgcGF0aDogJy9wcm9kdWN0cycsCiAgbmFtZTogJ1Byb2R1Y3RzJywKICBjb21wb25lbnQ6IFByb2R1Y3RzCn0sIHsKICBwYXRoOiAnL2NhcnQnLAogIG5hbWU6ICdDYXJ0JywKICBjb21wb25lbnQ6IENhcnQKfV07CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkocHJvY2Vzcy5lbnYuQkFTRV9VUkwpLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbJy9ob21lJywgJy9yZWdpc3RlcicsICcvbG9naW4nXTsKICB2YXIgYXV0aFJlcXVpcmVkID0gIXB1YmxpY1BhZ2VzLmluY2x1ZGVzKHRvLnBhdGgpOwogIHZhciBsb2dnZWRJbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7IC8vIHRyeWluZyB0byBhY2Nlc3MgYSByZXN0cmljdGVkIHBhZ2UgKyBub3QgbG9nZ2VkIGluCiAgLy8gcmVkaXJlY3QgdG8gbG9naW4gcGFnZQoKICBpZiAodG8ucGF0aCA9PSAnL3Byb2R1Y3RzJyB8fCB0by5wYXRoID09ICcvY2FydCcgJiYgIWxvZ2dlZEluKSBuZXh0KHsKICAgIG5hbWU6ICdSZWdpc3RlcicKICB9KTtlbHNlIG5leHQoKTsKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIG5leHQoJy9sb2dpbicpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["/home/lifechoices/Fullstack-project/front-end-project/src/router/index.js"],"names":["createRouter","createWebHistory","Home","Register","Login","Products","Cart","routes","path","component","name","router","history","process","env","BASE_URL","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,SAAS,EAAEP;AAFb,CADa,EAKb;AACEM,EAAAA,IAAI,EAAE,OADR;AAEEE,EAAAA,IAAI,EAAE,MAFR;AAGED,EAAAA,SAAS,EAAEP;AAHb,CALa,EAUb;AACEM,EAAAA,IAAI,EAAE,WADR;AAEEE,EAAAA,IAAI,EAAE,UAFR;AAGED,EAAAA,SAAS,EAACN;AAHZ,CAVa,EAeb;AACEK,EAAAA,IAAI,EAAE,QADR;AAEEE,EAAAA,IAAI,EAAE,OAFR;AAGED,EAAAA,SAAS,EAAEL;AAHb,CAfa,EAmBX;AACAI,EAAAA,IAAI,EAAE,WADN;AAEAE,EAAAA,IAAI,EAAE,UAFN;AAGAD,EAAAA,SAAS,EAACJ;AAHV,CAnBW,EAuBX;AACAG,EAAAA,IAAI,EAAE,OADN;AAEAE,EAAAA,IAAI,EAAE,MAFN;AAGAD,EAAAA,SAAS,EAAEH;AAHX,CAvBW,CAAf;AA+BA,IAAMK,MAAM,GAAGX,YAAY,CAAC;AAC1BY,EAAAA,OAAO,EAAEX,gBAAgB,CAACY,OAAO,CAACC,GAAR,CAAYC,QAAb,CADC;AAE1BR,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAKAI,MAAM,CAACK,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,WAAW,GAAG,CAAC,OAAD,EAAU,WAAV,EAAuB,QAAvB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACT,IAAxB,CAAtB;AACA,MAAMe,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHoC,CAIpC;AACA;;AAGA,MAAIR,EAAE,CAACT,IAAH,IAAW,WAAX,IAA0BS,EAAE,CAACT,IAAH,IAAW,OAAX,IAAsB,CAACe,QAArD,EAA+DJ,IAAI,CAAC;AAAET,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAJ,CAA/D,KACKS,IAAI;;AAET,MAAIE,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAhBD;AAmBA,eAAeR,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Register from '../components/Register.vue'\nimport Login from '../components/Login.vue'\nimport Products from '../components/Products.vue'\nimport Cart from '../components/Cart.vue'\n\nconst routes = [\n  {\n    path: '/',\n    component: Home\n  },\n  {\n    path: '/home',\n    name: 'Home',\n    component: Home\n  },\n  {\n    path: '/register',\n    name: 'Register',\n    component:Register\n  },\n  {\n    path: '/login',\n    name: 'Login',\n    component: Login\n  },{\n    path: '/products',\n    name: 'Products',\n    component:Products\n  },{\n    path: '/cart',\n    name: 'Cart',\n    component: Cart\n  },\n  \n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/home', '/register', '/login'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n  // trying to access a restricted page + not logged in\n  // redirect to login page\n\n\n  if (to.path == '/products' || to.path == '/cart' && !loggedIn) next({ name: 'Register' })\n  else next()\n\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\n\nexport default router\n"]}]}